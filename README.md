# Rozetka Cleaner

Легке розширення для Chrome, яке прибирає зайві промо-блоки на Rozetka і робить каталог/сторінки товару чистішими.

<p align="center">
  <img src="assets/logo-source.png" alt="Rozetka Cleaner Logo" width="280">
</p>

## Що ви отримаєте

- Менше нав'язливих банерів і рекламних вставок.
- Акуратніший блок цін у картках товарів.
- Можливість увімкнути тільки ті очищення, які вам потрібні.
- Стабільну роботу на динамічних сторінках (через `MutationObserver`).

## Що саме приховує розширення

- Додаткову ціну “за Карткою Rozetka”.
- Бонусні блоки за оплату карткою.
- Рекламні каруселі та рекламні товарні картки.
- Блок “Швидкі фільтри”.
- Кнопку Rozetka AI.
- Картку “Потрібна консультація?”.
- Блок “Популярні запити” у пошуку.
- Smart-бейдж у картці товару.
- Smart-блок підписки (`rz-delivery-premium`).
- Smart-рядок доставки зі Smart-іконкою (`rz-delivery-price`).
- Банер “Підпишіться на email інформування” (`rz-marketing-subscription-banner`).

<p align="center">
  <img src="assets/feature.jpg" alt="Rozetka Cleaner feature preview" width="640">
  <br>
  <sub>Приклад: чистіший каталог без зайвих промо-елементів</sub>
</p>

## Як встановити (Chrome)

1. На сторінці репозиторію натисніть `Code` -> `Download ZIP`.
2. Розпакуйте ZIP в окрему папку.
3. Відкрийте в Chrome адресу `chrome://extensions`.
4. Увімкніть `Developer mode` (перемикач справа вгорі).
5. Натисніть `Load unpacked`.
6. Виберіть папку, яку розпакували.
7. Відкрийте Rozetka і оновіть сторінку.

## Налаштування

1. Відкрийте `chrome://extensions`.
2. Знайдіть `Rozetka Cleaner` -> `Details` -> `Extension options`.
3. Увімкніть або вимкніть потрібні пункти (усе робиться перемикачами).

<p align="center">
  <img src="assets/options.jpeg" alt="Сторінка налаштувань Rozetka Cleaner" width="560">
  <br>
  <sub>Сторінка налаштувань розширення</sub>
</p>

## Стан роботи розширення

У налаштуваннях є блок **"Стан роботи розширення"**. Він допомагає швидко зрозуміти, чи все працює.

- `OK` - все добре, елементи знаходяться і ховаються.
- `Немає на сторінці` - на цій сторінці такого блоку просто немає.
- `Перевірити` - щось знайдено, але не сховалось (варто перевірити).
- `Оновіть сторінку` - дані застаріли після змін у налаштуваннях.
- `Неактивно` - ця функція зараз вимкнена перемикачем.
- `Не налаштовано` - для кастомних CSS-правил не додано жодного селектора.

## Де працює

- Сторінки `*.rozetka.com.ua`
- Каталог
- Пошук
- Сторінка товару

## Якщо щось не спрацювало

1. У `chrome://extensions` натисніть `Reload` для Rozetka Cleaner.
2. Оновіть вкладку Rozetka.
3. Перевірте перемикачі в `Extension options`.
4. Відкрийте блок **"Стан роботи розширення"** і натисніть `Оновити статус`.

## Розробка і тести

1. Встановіть Node.js 20+.
2. Запустіть перевірку синтаксису:
   - `npm run test:syntax`
3. Запустіть автоматичні тести:
   - `npm test`

Поточний стан покриття:
- контрактні тести для `config.js`, `content.js`, `options.js`, `options.html`;
- поведінкові тести для приховування/повернення елементів;
- перевірки реакції на `MutationObserver`;
- перевірки збереження налаштувань і оновлення діагностики в options.

## Пакування релізу

Для ручного оновлення пакета розширення:

```bash
zip -r release/rozetka-cleaner-v0.3.0.zip \
  manifest.json config.js content.js styles.css \
  options.html options.js options.css icons
```

Після цього файл можна завантажувати в Chrome Web Store як update package.

## Конфіденційність

- Розширення не збирає персональні дані.
- Розширення не передає дані на сторонні сервери.
- Уся робота виконується локально у вашому браузері.
- Дозвіл `storage` використовується лише для збереження налаштувань і локальної діагностики.

## Для досвідчених

У розділі **"Розширені налаштування"** можна:

- додати власні CSS-селектори для приховування;
- змінити фрази запасного пошуку, якщо Rozetka змінить верстку.

## Важливо

- Проєкт не афілійований з Rozetka.
- Сайт може змінювати структуру сторінок, тому інколи потрібні оновлення розширення.
